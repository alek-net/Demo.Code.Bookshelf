@model IList<Bookshelf.BL.Book>

@{
	ViewData["Title"] = "Bookshelf Books";
}

<div id="index" class="col-md-12">
	<div class="panel panel-info">
		<div class="panel-heading">
			<div class="panel-title">Books</div>			
		</div>
		<div class="panel-body">
			<div class="col-xs-12">
				<table class="table table-striped table-hover table-condensed" id="ex-datatables-basic">
					<thead>
					<th>Title</th>
					<th>Author</th>
					<th>ISBN</th>
					<th>Loaned To</th>
					<th>Loan/Return</th>
					</thead>
					<tbody>
						@foreach (var book in Model)
						{
							<tr>
								<td>@book.Title</td>
								<td>@book.Author</td>
								<td>@book.ISBN</td>
								<td>@book.LoanedToUser?.Name</td>
								<td>
									@if (book.LoanedTo.HasValue)
									{
										<a asp-action="Return" asp-route-id="@book.Id">Return</a>
									}
									else
									{
										<a asp-action="Loan" asp-route-id="@book.Id">Loan</a>
									}
								</td>
							</tr>
						}
					</tbody>
				</table>
			</div>
		</div>

		</div>
	</div>

